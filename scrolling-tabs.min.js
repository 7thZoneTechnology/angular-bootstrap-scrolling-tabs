(function(){var b={CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL:50,SCROLL_OFFSET_FRACTION:6,DATA_KEY_IS_MOUSEDOWN:"ismousedown"},a=angular.module("mj.scrollingTabs",[]),d=['<div class="scrtabs-tab-container">',' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"></span></div>','   <div class="scrtabs-tabs-fixed-container">','     <div class="scrtabs-tabs-movable-container">','       <ul class="nav nav-tabs" role="tablist">','         <li ng-class="{ \'active\': tabObj[propActive || \'isActive\'] }" data-tab-obj="{{tabObj}}" data-index="{{$index}}" ng-repeat="tabObj in tabsArr">','           <a ng-href="{{\'#\' + tabObj[propPaneId || \'paneId\']}}" role="tab" data-toggle="tab" ng-bind-html="sanitize(tabObj[propLabel || \'label\']);"></a>',"         </li>","       </ul>","     </div>"," </div>",' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"></span></div>',"</div>"].join("");(function(g,f){var e=function(k,h,i){var l;return function j(){var o=this,n=arguments;function m(){if(!i){k.apply(o,n)}l=null}if(l){clearTimeout(l)}else{if(i){k.apply(o,n)}}l=setTimeout(m,h||100)}};jQuery.fn[f]=function(h){return h?this.bind("resize.scrtabs",e(h)):this.trigger(f)}})(jQuery,"smartresize");function c(y,l){var z,u,w,s,t,A,e,q,k,x=b.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL,B,p,r,o=0,m,f,h,g=true,j,i=b.SCROLL_OFFSET_FRACTION,n;f=function(C){return l.trustAsHtml(C)};j=(function(){function H(){y(function(){if(u.data(b.DATA_KEY_IS_MOUSEDOWN)&&(o<0)){if(!I()){H()}}},x)}function F(P){y(function(){if(s.data(b.DATA_KEY_IS_MOUSEDOWN)&&(o>P)){if(!K(P)){F(P)}}},x)}function G(P){o-=(r/i);if(o<P){o=P}}function O(){return g?(r-m-h):0}function M(){return(o===0)?"0":o+"px"}function I(){o+=(r/i);if(o>0){o=0}N();return(o===0)}function K(P){G(P);N();return(o===P)}function L(S){var U,R,T,P,Q;if(!g){return}U=e.find("li.active");if(!U.length){return}R=U.outerWidth();T=U.offset().left;P=s.offset().left;Q=T+R-P;if(Q>0){o=S?(o-Q):-Q;N()}}function N(){var P;o=o/1;P=M();w.stop().animate({left:P},"slow",function Q(){var R=O();if(o<R){G(R);w.stop().animate({left:M()},"fast")}})}function E(){u.data(b.DATA_KEY_IS_MOUSEDOWN,true);H()}function D(){s.data(b.DATA_KEY_IS_MOUSEDOWN,true);F(O())}function C(){u.data(b.DATA_KEY_IS_MOUSEDOWN,false)}function J(){s.data(b.DATA_KEY_IS_MOUSEDOWN,false)}return{getMinPos:O,incrementScrollLeft:I,incrementScrollRight:K,scrollToActiveTab:L,slideMovableContainerToLeftPos:N,startScrollLeft:E,startScrollRight:D,stopScrollLeft:C,stopScrollRight:J}}());p=(function(){function I(J){j.incrementScrollLeft()}function H(J){j.incrementScrollRight(j.getMinPos())}function D(J){j.startScrollLeft()}function C(J){j.startScrollRight()}function F(J){j.stopScrollLeft()}function E(J){j.stopScrollRight()}function G(K){var J=q.width();if(J===n){return false}n=J;B.refreshAllElementSizes(true)}return{handleClickOnLeftScrollArrow:I,handleClickOnRightScrollArrow:H,handleMousedownOnLeftScrollArrow:D,handleMousedownOnRightScrollArrow:C,handleMouseupOnLeftScrollArrow:F,handleMouseupOnRightScrollArrow:E,handleWindowResize:G}}());B=(function(){function H(){G();I()}function C(O){var N=g,M;D();F();if(g){L()}if(O&&(g||N)){if(g){M=j.getMinPos();if(o<M){j.incrementScrollRight(M)}else{j.scrollToActiveTab(true)}}else{o=0;j.slideMovableContainerToLeftPos()}}}function G(){z=A.find(".scrtabs-tabs-fixed-container");w=A.find(".scrtabs-tabs-movable-container");e=A.find(".nav-tabs");u=A.find(".scrtabs-js-tab-scroll-arrow-left");s=A.find(".scrtabs-js-tab-scroll-arrow-right");t=u.add(s);q=$(window)}function D(){k=A.outerWidth();n=q.width();h=u.outerWidth()+s.outerWidth();K();J()}function I(){u.on({"mousedown.scrtabs":p.handleMousedownOnLeftScrollArrow,"mouseup.scrtabs":p.handleMouseupOnLeftScrollArrow,"click.scrtabs":p.handleClickOnLeftScrollArrow});s.on({"mousedown.scrtabs":p.handleMousedownOnRightScrollArrow,"mouseup.scrtabs":p.handleMouseupOnRightScrollArrow,"click.scrtabs":p.handleClickOnRightScrollArrow});q.smartresize(p.handleWindowResize)}function K(){z.width(r=A.outerWidth())}function E(){z.width(r)}function L(){z.width(r-h)}function J(){m=0;e.find("li").each(function M(){m+=$(this).outerWidth()});w.width(m+=1)}function F(){var M=m>r;if(M&&!g){t.show();g=true;L()}else{if(!M&&g){t.hide();g=false;E()}}}return{initElements:H,refreshAllElementSizes:C}}());function v(D){A=D;y(function C(){B.initElements();B.refreshAllElementSizes();j.scrollToActiveTab()},100)}return{restrict:"E",template:d,transclude:false,replace:true,scope:{tabs:"@",propPaneId:"@",propLabel:"@",propActive:"@",localTabClick:"&tabClick"},link:function(E,D,C){E.tabsArr=E.$eval(E.tabs);E.propPaneId=E.propPaneId||"paneId";E.propLabel=E.propLabel||"label";E.propActive=E.propActive||"isActive";E.sanitize=f;D.on("click.scrollingTabs",".nav-tabs > li",function F(H){var G=$(this).data();E.localTabClick({$event:H,$index:G.index,tab:G.tabObj})});v(D)}}}c.$inject=["$timeout","$sce"];a.directive("scrollingTabs",c)
}());