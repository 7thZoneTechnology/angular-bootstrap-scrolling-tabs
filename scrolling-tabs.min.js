(function(){var b={CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL:50,SCROLL_OFFSET_FRACTION:6,DATA_KEY_IS_MOUSEDOWN:"ismousedown"},a=angular.module("mj.scrollingTabs",[]),d=['<div class="scrtabs-tab-container">',' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"></span></div>','   <div class="scrtabs-tabs-fixed-container">','     <div class="scrtabs-tabs-movable-container">','       <ul class="nav nav-tabs" role="tablist">','         <li ng-class="{ \'active\': tabObj[propActive || \'isActive\'] }" data-tab-obj="{{tabObj}}" data-index="{{$index}}" ng-repeat="tabObj in tabsArr">',"           <a ng-href=\"{{'#' + tabObj[propPaneId || 'paneId']}}\" role=\"tab\" data-toggle=\"tab\">{{tabObj[propLabel || 'label']}}</a>","         </li>","       </ul>","     </div>"," </div>",' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"></span></div>',"</div>"].join("");(function(g,f){var e=function(k,h,i){var l;return function j(){var o=this,n=arguments;function m(){if(!i){k.apply(o,n)}l=null}if(l){clearTimeout(l)}else{if(i){k.apply(o,n)}}l=setTimeout(m,h||100)}};jQuery.fn[f]=function(h){return h?this.bind("resize.scrtabs",e(h)):this.trigger(f)}})(jQuery,"smartresize");function c(w){var x,s,u,q,r,y,e,o,j,v=b.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL,z,n,p,m=0,k,g,f=true,i,h=b.SCROLL_OFFSET_FRACTION,l;i=(function(){function F(){w(function(){if(s.data(b.DATA_KEY_IS_MOUSEDOWN)&&(m<0)){if(!G()){F()}}},v)}function D(N){w(function(){if(q.data(b.DATA_KEY_IS_MOUSEDOWN)&&(m>N)){if(!I(N)){D(N)}}},v)}function E(N){m-=(p/h);if(m<N){m=N}}function M(){return f?(p-k-g):0}function K(){return(m===0)?"0":m+"px"}function G(){m+=(p/h);if(m>0){m=0}L();return(m===0)}function I(N){E(N);L();return(m===N)}function J(Q){var S,P,R,N,O;if(!f){return}S=e.find("li.active");if(!S.length){return}P=S.outerWidth();R=S.offset().left;N=q.offset().left;O=R+P-N;if(O>0){m=Q?(m-O):-O;L()}}function L(){var N;m=m/1;N=K();u.stop().animate({left:N},"slow",function O(){var P=M();if(m<P){E(P);u.stop().animate({left:K()},"fast")}})}function C(){s.data(b.DATA_KEY_IS_MOUSEDOWN,true);F()}function B(){q.data(b.DATA_KEY_IS_MOUSEDOWN,true);D(M())}function A(){s.data(b.DATA_KEY_IS_MOUSEDOWN,false)}function H(){q.data(b.DATA_KEY_IS_MOUSEDOWN,false)}return{getMinPos:M,incrementScrollLeft:G,incrementScrollRight:I,scrollToActiveTab:J,slideMovableContainerToLeftPos:L,startScrollLeft:C,startScrollRight:B,stopScrollLeft:A,stopScrollRight:H}}());n=(function(){function G(H){i.incrementScrollLeft()}function F(H){i.incrementScrollRight(i.getMinPos())}function B(H){i.startScrollLeft()}function A(H){i.startScrollRight()}function D(H){i.stopScrollLeft()}function C(H){i.stopScrollRight()}function E(I){var H=o.width();if(H===l){return false}l=H;z.refreshAllElementSizes(true)}return{handleClickOnLeftScrollArrow:G,handleClickOnRightScrollArrow:F,handleMousedownOnLeftScrollArrow:B,handleMousedownOnRightScrollArrow:A,handleMouseupOnLeftScrollArrow:D,handleMouseupOnRightScrollArrow:C,handleWindowResize:E}}());z=(function(){function F(){E();G()}function A(M){var L=f,K;B();D();if(f){J()}if(M&&(f||L)){if(f){K=i.getMinPos();if(m<K){i.incrementScrollRight(K)}else{i.scrollToActiveTab(true)}}else{m=0;i.slideMovableContainerToLeftPos()}}}function E(){x=y.find(".scrtabs-tabs-fixed-container");u=y.find(".scrtabs-tabs-movable-container");e=y.find(".nav-tabs");s=y.find(".scrtabs-js-tab-scroll-arrow-left");q=y.find(".scrtabs-js-tab-scroll-arrow-right");r=s.add(q);o=$(window)}function B(){j=y.outerWidth();l=o.width();g=s.outerWidth()+q.outerWidth();I();H()}function G(){s.on({"mousedown.scrtabs":n.handleMousedownOnLeftScrollArrow,"mouseup.scrtabs":n.handleMouseupOnLeftScrollArrow,"click.scrtabs":n.handleClickOnLeftScrollArrow});q.on({"mousedown.scrtabs":n.handleMousedownOnRightScrollArrow,"mouseup.scrtabs":n.handleMouseupOnRightScrollArrow,"click.scrtabs":n.handleClickOnRightScrollArrow});o.smartresize(n.handleWindowResize)}function I(){x.width(p=y.outerWidth())}function C(){x.width(p)}function J(){x.width(p-g)}function H(){k=0;e.find("li").each(function K(){k+=$(this).outerWidth()});u.width(k)}function D(){var K=k>p;if(K&&!f){r.show();f=true;J()}else{if(!K&&f){r.hide();f=false;C()}}}return{initElements:F,refreshAllElementSizes:A}}());function t(B){y=B;w(function A(){z.initElements();z.refreshAllElementSizes();i.scrollToActiveTab()},100)}return{restrict:"E",template:d,transclude:false,replace:true,scope:{tabs:"@",propPaneId:"@",propLabel:"@",propActive:"@",localTabClick:"&tabClick"},link:function(C,B,A){C.tabsArr=C.$eval(C.tabs);C.propPaneId=C.propPaneId||"paneId";C.propLabel=C.propLabel||"label";C.propActive=C.propActive||"isActive";B.on("click.scrollingTabs",".nav-tabs > li",function D(F){var E=$(this).data();C.localTabClick({$event:F,$index:E.index,tab:E.tabObj})});t(B)}}}c.$inject=["$timeout"];a.directive("scrollingTabs",c)}());